<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What September Reveals About Boston’s Green Line's Transit Failures</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            color: #fff;
            background: #f0f0f0;
            scroll-behavior: smooth;
        }

        .section {
            position: relative;
            width: 100%;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .section img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.7;
        }

        .text-box {
            position: relative;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            max-width: 800px;
            margin: 20px;
            padding: 30px;
            text-align: center;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease-in-out;
        }

        .text-box.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h1, h2 {
            text-align: center;
        }

        /* Section Titles */
        h1 {
            font-size: 3rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        p {
            font-size: 1.25rem;
            line-height: 1.8;
        }

        /* Heatmap Container */
        .heatmap-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            justify-items: center;
            padding: 40px;
            background-color: #a9a9a9;
            border-radius: 12px;
        }

        .heatmap {
            width: 90%;
            max-width: 600px;
        }

        .heatmap iframe {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.7.0/d3.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            function handleScroll() {
                const textBoxes = document.querySelectorAll('.text-box');
                textBoxes.forEach(box => {
                    const boxTop = box.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;

                    if (boxTop < windowHeight - 150) {
                        box.classList.add('visible');
                    }
                });
            }

            window.addEventListener('scroll', handleScroll);
            handleScroll();
        });
    </script>
</head>
<body>

    <div class="section" id="section1">
        <img src="IMG_6951.png">
        <div class="text-box">
            <h1>What September Data Reveals About Boston's Green Line</h1>
            <p>Rush hour on the Green Line is a Bostonian’s definition of frustration. At Prudential Station, the platform crowds with commuters, students, and shoppers as another two-car train pulls in. To no one's surprise, it’s already packed to capacity. A few determined riders squeeze on, but the rest wait, hoping the next train will offer some relief.</p>
        </div>
    </div>

     <div class="section" id="section1">
        <img src="IMG_2238.png">
        <div class="text-box">
            <p>““The Green Line is by far the most complicated line,” says Seth Kaplan, a labs co-lead from TransitMatters, an organization dedicated to analyzing transit data and improving public transit in Boston. Kaplan points to the challenges created by the Green Line’s intricate design, where multiple branches converge into a single trunk line with just one track in each direction. This design leaves little room for flexibility during disruptions. “If a train is stuck at Copley, every train behind it isn’t going anywhere.”.</p>
        </div>
    </div>

    <div class="section" id="section2">
        <img src="IMG_9627.png">
        <div class="text-box">
            <p>In September 2024, over 1.5 million passengers entered gated Green Line stations, a surge fueled by returning students and a revitalized post-pandemic city. However, these figures tell only part of the story. Above-ground stops on the B, C, D, and E Lines rely on onboard fare collection, meaning untapped entries aren’t counted, potentially adding thousands more riders to the system.</p>
        </div>
    </div>

    <div class="section" id="chart-section">
        <img src="https://your-image-link.com/green-line-chart-bg.jpg" alt="Green Line Chart Background">
        <div class="text-box">
            <h2>Total Amount of Gated Entries Per Month</h2>
            <svg id="chart"></svg>
            <p class="caption">Data source: MBTA</p>
        </div>
    </div>

    <script>
        // Data for the chart
        const data = [
            { month: "June", entries: 1496572 },
            { month: "July", entries: 1377880 },
            { month: "August", entries: 1459179 },
            { month: "September", entries: 1572163 }
        ];

        const margin = { top: 20, right: 30, bottom: 50, left: 80 };
        const width = 800 - margin.left - margin.right;
        const height = 400 - margin.top - margin.bottom;

        const svg = d3.select("#chart")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);

        const x = d3.scaleLinear()
            .domain([0, d3.max(data, d => d.entries) * 1.1])
            .range([0, width]);

        const y = d3.scaleBand()
            .domain(data.map(d => d.month))
            .range([0, height])
            .padding(0.1);

        svg.append("g")
            .call(d3.axisLeft(y));

        svg.append("g")
            .attr("transform", `translate(0,${height})`)
            .call(d3.axisBottom(x).ticks(5).tickFormat(d3.format(",")).tickSizeOuter(0));

        svg.selectAll(".bar")
            .data(data)
            .enter()
            .append("rect")
            .attr("class", "bar")
            .attr("y", d => y(d.month))
            .attr("height", y.bandwidth())
            .attr("x", 0)
            .attr("width", 0) // Start with 0 width for animation
            .style("fill", "#4CAF50")
            .transition()
            .duration(1000)
            .attr("width", d => x(d.entries));

        svg.selectAll(".value")
            .data(data)
            .enter()
            .append("text")
            .attr("class", "value")
            .attr("x", d => x(d.entries) - 10)
            .attr("y", d => y(d.month) + y.bandwidth() / 2)
            .attr("dy", ".35em")
            .text(d => d.entries.toLocaleString())
            .style("font-size", "12px")
            .style("fill", "white")
            .style("text-anchor", "end");
    </script>

 <div class="section" id="section2">
        <img src="IMG_6960.png">
        <div class="text-box">
            <p>Riders are fed up with overcrowded trains and unreliable wait times. "I had to take the green line during the month the orange line was down, and I really experienced a horrible time with the green line" says one rider who believes the train is far too crowded, especially during peak times. See the full interview below:</p>
        </div>
    </div>

    <video controls width="1400">
    <source src="copy_9161D090-A1B6-4A81-AEC1-D7CF359786DE.mp4" type="video/mp4">
</video>

    
    <!-- Heatmaps Section -->
    <div class="section" id="heatmaps">
        <img src="IMG_6959.png">
        <div class="text-box">
            <p>Interestingly enough, the average wait time for a Green Line train did not change during rush hour. See the heatmaps below for the average wait time at each station, depending on the hour, with dark green indicating shorter wait times and lighter colors indicating longer waits.</p>
        </div>
    </div>

    <div class="heatmap-container" style="background-color: #a9a9a9; padding: 40px; border-radius: 12px;">
        <div class="heatmap">
            <h2>Heatmap Group 1</h2>
            <iframe src="heatmap_group1.html"></iframe>
        </div>
        <div class="heatmap">
            <h2>Heatmap Group 2</h2>
            <iframe src="heatmap_group2.html"></iframe>
        </div>
        <div class="heatmap">
            <h2>Heatmap Group 3</h2>
            <iframe src="heatmap_group3.html"></iframe>
        </div>
        <div class="heatmap">
            <h2>Heatmap Group 4</h2>
            <iframe src="heatmap_group4.html"></iframe>
        </div>
    </div>

    <!-- Remaining Sections -->
    <div class="section" id="section3">
        <img src="https://your-image-link.com/green-line-failures.jpg" alt="Green Line Challenges">
        <div class="text-box">
            <p>But why? “The Green Line runs on headway management rather than a strict schedule,” Kaplan explains. Unlike other lines that dispatch trains at specific times, the Green Line releases trains at intervals, adjusting for delays. “It avoids bunching, but it also means more variance,” he says. This variability exacerbates congestion, leaving riders guessing when a train will arrive.</p>
        </div>
    </div>

    <div class="section" id="section4">
        <img src="IMG_9675.png">
        <div class="text-box">
            <p>It is also important to note that stations like Copley, Arlington, and North Station have multiple lines (B, C, D, E) that travel through the station, so these times do not accurately reflect the time you would be waiting depending on where you are going. But according to the MBTA, the green line ranks lowest in percentage pfaccurate predictions, with all 4 scoring below 73% accurate.</p>
        </div>
    </div>
    
<!-- Percent Accuracy Chart Section -->
    <div class="section" id="accuracy-chart-section">
        <div class="text-box">
            <h2>Percentage Accuracy of Prediction Across Different MBTA Lines</h2>
        </div>
        <div id="accuracy-chart" style="display: flex; justify-content: center; align-items: center; padding: 20px;">
            <svg id="percent-accuracy-chart" width="600" height="400"></svg>
        </div>
    </div>

   <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Data for Percent Accuracy Chart
        const chartData = [
            { line: "Mattapan", accuracy: 91 },
            { line: "Orange", accuracy: 90 },
            { line: "Blue", accuracy: 87 },
            { line: "Red", accuracy: 75 },
            { line: "Green Line D", accuracy: 73 },
            { line: "Green Line B", accuracy: 72 },
            { line: "Green Line C", accuracy: 71 },
            { line: "Green Line E", accuracy: 66 }
        ];

        const margin = { top: 40, right: 50, bottom: 50, left: 60 };
        const width = 600 - margin.left - margin.right;
        const height = 400 - margin.top - margin.bottom;

        const svg2 = d3.select("#percent-accuracy-chart")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);

        // X Scale
        const x = d3.scaleBand()
            .domain(chartData.map(d => d.line))
            .range([0, width])
            .padding(0.3);

        // Y Scale
        const y = d3.scaleLinear()
            .domain([0, 100])
            .range([height, 0]);

        // X Axis
        svg2.append("g")
            .attr("transform", `translate(0,${height})`)
            .call(d3.axisBottom(x).tickSizeOuter(0))
            .selectAll("text")
            .style("text-anchor", "end")
            .attr("dx", "-.8em")
            .attr("dy", ".15em")
            .attr("transform", "rotate(-25)")
            .style("fill", "black");  // Set axis labels to black

        // Y Axis
        svg2.append("g")
            .call(d3.axisLeft(y).ticks(10).tickFormat(d => d + "%"))
            .selectAll("text")
            .style("fill", "black");  // Set axis labels to black

        // Line Generator
        const line = d3.line()
            .x(d => x(d.line) + x.bandwidth() / 2)
            .y(d => y(d.accuracy))
            .curve(d3.curveMonotoneX);  // Smooth line

        // Add Line Path
        svg2.append("path")
            .datum(chartData)
            .attr("fill", "none")
            .attr("stroke", "#4CAF50")
            .attr("stroke-width", 2)
            .attr("d", line);

        // Circles for Data Points
        svg2.selectAll(".dot")
            .data(chartData)
            .enter()
            .append("circle")
            .attr("class", "dot")
            .attr("cx", d => x(d.line) + x.bandwidth() / 2)
            .attr("cy", d => y(d.accuracy))
            .attr("r", 5)
            .attr("fill", "#4CAF50");

        // Bars
        svg2.selectAll(".bar")
            .data(chartData)
            .enter()
            .append("rect")
            .attr("class", "bar")
            .attr("x", d => x(d.line))
            .attr("y", d => y(d.accuracy))
            .attr("width", x.bandwidth())
            .attr("height", d => height - y(d.accuracy))
            .attr("fill", "#4CAF50")
            .attr("opacity", 0.8);

        // Labels
        svg2.selectAll(".label")
            .data(chartData)
            .enter()
            .append("text")
            .attr("class", "label")
            .attr("x", d => x(d.line) + x.bandwidth() / 2)
            .attr("y", d => y(d.accuracy) - 10)
            .attr("text-anchor", "middle")
            .text(d => d.accuracy + "%")
            .style("fill", "#000")
            .style("font-size", "12px")
            .style("font-weight", "bold");
    });
</script>

    <div class="section" id="section5">
        <img src="IMG_9673.png">
        <div class="text-box">
            <p>The MBTA says: "We consider a prediction to be accurate when a train or bus arrives within minutes of a prediction. The exact number of minutes depends on how far out into the future a prediction is." Even as the data reveals critical flaws, it also highlights the limitations of the MBTA’s current metrics. Above-ground stops on the B, C, and E Lines are unmeasured due to outdated onboard payment systems. Additionally, gated entries represent only passengers entering the Green Line system—they do not account for direction. Approximately half of these riders are traveling eastbound (inbound) and the other half westbound (outbound).</p>
        </div>
    </div>

    <div class="section" id="section6">
        <img src="IMG_9673.png">
        <div class="text-box">
            <p>Above-ground stops compound the problem. Outdated fare systems prevent accurate ridership data collection, leaving the MBTA blind to significant portions of Green Line usage. These gaps highlight the Green Line’s dual failures: meeting rider demand and accurately capturing the system’s scope.</p>
        </div>
    </div>

    <div class="section" id="section6">
        <img src="IMG_2242.png">
        <div class="text-box">
            <p>The consequences of the Green Line’s shortcomings extend far beyond inconvenience. Transit inefficiencies disrupt productivity, push riders into cars, and exacerbate Boston’s already infamous traffic congestion. “The T needs to convince riders to choose transit,” says Kaplan. “It needs to be the most efficient way to get around, especially for those who have other options.”</p>
        </div>
    </div>

    <div class="section" id="section10">
        <img src="https://raw.githubusercontent.com/mcmosso/mbta-project/main/GL-Option-3-1.jpg" alt="New Green Line Train">
        <div class="text-box">
            <p>The MBTA promises relief with new Type 10 Green Line trains set to debut by 2027. These larger, more accessible cars will increase capacity by nearly 30%, a much-needed improvement. However, systemic issues like signal problems and power failures remain significant barriers. “Fixing all the signal and power issues would transform the Green Line overnight,” Kaplan says, pointing to the nearly 40 hours of delays caused by disabled trains this year alone, and about 5 hours of those 40 come just from the Green Line in the month of September. Most of these delays are caused by disabled trains.</p>
        </div>
    </div>

    <div class="section" id="section6">
        <img src="IMG_9673.png">
        <div class="text-box">
            <p>Boston’s transit system stands at a crossroads. The Green Line’s historic charm should not come at the cost of modern reliability. With predictable surges in ridership and mounting systemic issues, the MBTA must act decisively to modernize infrastructure, increase train frequencies during rush hours, and implement more accurate ridership metrics.</p>
        </div>
    </div>
    
    <div class="section" id="section6">
        <img src="IMG_9673.png">
        <div class="text-box">
            <p>Public engagement is key. “Public comment is everything. Agencies like the MBTA need to hear from riders to understand where they’re falling short and how to improve.” Rider feedback has already driven changes, such as eliminating slow zones and redesigning bus routes. Sustained advocacy will be critical to ensuring Boston’s transit system evolves to meet the city’s needs.</p>
        </div>
    </div>


    <div class="section" id="section6">
        <img src="IMG_2238.png">
        <div class="text-box">
            <p>The Green Line is a vital lifeline for Boston, connecting neighborhoods, universities, and businesses. But if the MBTA cannot address its current failings, it risks leaving the city’s future stuck on the platform, waiting for a train that never arrives.</p>
        </div>
    </div>

</body>
</html>

